<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DreamDrops — Donor</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --glass: rgba(255,255,255,0.12); }
    body { font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .page { display: none; }
    .page.active { display: block; }

    /* Modal visibility (fixes always-visible popup) */
    .modal-hidden { opacity: 0; pointer-events: none; transform: translateY(10px) scale(.98); transition: all .18s ease; }
    .modal-visible { opacity: 1; pointer-events: auto; transform: translateY(0) scale(1); transition: all .18s ease; }

    @keyframes bob {
  0%   { transform: translateY(0); }
  50%  { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}

/* sway only rotates (no translate) */
@keyframes sway {
  0%   { transform: rotate(-3deg); }
  50%  { transform: rotate(3deg); }
  100% { transform: rotate(-3deg); }
}

body {
  background: linear-gradient(135deg, #6b5bff, #ff6ec7, #5df7c3);
  background-size: 400% 400%;
  animation: gradientMove 15s ease infinite;
}

@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

#wish-jar {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(12px);
  border-radius: 40px;
  box-shadow: 0 8px 40px rgba(0,0,0,0.3), inset 0 0 20px rgba(255,255,255,0.2);
}

h1, h2 {
  text-shadow: 0 0 10px rgba(255,255,255,0.5);
}

/* Outer wrapper handles bob (translate). Inner sway wrapper handles rotate. */
g.ballWrap {
  /* bob runs on this element (you already had inline bob timing) */
  transform-box: fill-box; /* important for SVG transform origin handling */
}

/* Inner wrapper for rotation */
g.sway {
  transform-box: fill-box;
  transform-origin: center center;
  /* keep pointer events off on inner group so click hits the hit-circle when present */
  pointer-events: none;
}

/* Pause while dragging if you use an is-dragging class on the outer wrap */
g.ballWrap.is-dragging { animation-play-state: paused !important; }
    @keyframes glowPulse { 0%{box-shadow:0 0 0 0 rgba(255,255,255,0.35)} 70%{box-shadow:0 0 40px 8px rgba(255,255,255,0.15)} 100%{box-shadow:0 0 0 0 rgba(255,255,255,0)} }

    @keyframes pulseGlow {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

  </style>
</head>
<body class="min-h-screen text-white overflow-x-hidden relative"
 style="background:url('assets/bg.jpeg') no-repeat center center fixed; background-size:cover;">


<div class="absolute inset-0 -z-20">
    <div class="w-full h-full bg-[url('assets/bg.jpeg')] bg-cover bg-center filter blur-md"></div>
    <div class="absolute inset-0 bg-purple-900/40"></div> <!-- subtle overlay tint -->
  </div>


  <!-- Top Navigation -->
  <header class="sticky top-0 z-40 bg-white/10 backdrop-blur border-b border-white/10">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <span class="inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/20">🫙</span>
        <div>
          <div class="font-bold text-lg leading-tight">DreamDrops</div>
          <div class="text-xs opacity-85">Tiny drop, big impact</div>
        </div>
      </div>
      <nav class="flex items-center gap-2 text-sm">
        <button data-route="home" class="navlink px-3 py-2 rounded-lg hover:bg-white/20 font-semibold bg-white/20">Wish Jar</button>
        <button data-route="about" class="navlink px-3 py-2 rounded-lg hover:bg-white/20">About</button>
        <button data-route="achievements" class="navlink px-3 py-2 rounded-lg hover:bg-white/20">Achievements</button>
        <button data-route="status" class="navlink px-3 py-2 rounded-lg hover:bg-white/20">Donor Status</button>
        <button data-route="inbox" class="navlink px-3 py-2 rounded-lg hover:bg-white/20">Inbox</button>
        <span class="inline-block w-px h-6 bg-white/20 mx-1"></span>
        <button id="profileBtn" class="px-3 py-2 rounded-lg bg-white/10 border border-white/20 hover:bg-white/20">Profile</button>
        <button id="logoutBtn" class="px-3 py-2 rounded-lg bg-white/10 border border-white/20 hover:bg-white/20">Logout</button>
      </nav>
    </div>
  </header>

  <main class="relative z-10">
    <!-- HOME -->
    <section id="page-home" class="page active">
      <div class="absolute inset-0 overflow-hidden -z-10 pointer-events-none">
  <style>
    @keyframes floaty {
      0%   { transform: translateY(0) rotate(var(--tilt)); }
      50%  { transform: translateY(-12px) rotate(calc(var(--tilt) + 2deg)); }
      100% { transform: translateY(0) rotate(var(--tilt)); }
    }
    .char-img {
      animation: floaty var(--dur,6s) ease-in-out infinite;
    }
  </style>

  <!-- Top-left -->
  <div class="absolute top-[8%] left-[4%] w-72 h-72 rounded-full flex items-center justify-center">
    <div class="absolute inset-0 rounded-full" style="background: rgba(34,197,94,0.5); filter: blur(50px);"></div>
    <img src="assets/envy.png"
         alt="Green boy"
         class="relative drop-shadow-xl object-contain char-img"
       style="height: 211px; --tilt: -5deg; --dur: 6.2s;"
       loading="lazy" />
  </div>

  <!-- Top-right -->
  <div class="absolute top-[6%] right-[4%] w-72 h-72 rounded-full flex items-center justify-center">
    <div class="absolute inset-0 rounded-full" style="background: rgba(249,115,22,0.3); filter: blur(50px);"></div>
    <img src="assets/gratitude.png"
         alt="Orange boy"
         class="relative drop-shadow-xl object-contain char-img"
       style="height: 211px; --tilt: -5deg; --dur: 5.8s;"
       loading="lazy" />
  </div>

  <!-- Bottom-left -->
  <div class="absolute bottom-[12%] left-[6%] w-72 h-72 rounded-full flex items-center justify-center">
    <div class="absolute inset-0 rounded-full" style="background: rgba(236,72,153,0.3); filter: blur(50px);"></div>
    <img src="assets/shy.png"
         alt="Pink girl sitting"
         class="relative drop-shadow-xl object-contain char-img"
       style="height: 211px; --tilt: -5deg; --dur: 6.5s;"
       loading="lazy" />
  </div>

  <!-- Bottom-right -->
  <div class="absolute bottom-[10%] right-[8%] w-100 h-72 rounded-full flex items-center justify-center">
    <div class="absolute inset-0 rounded-full" style="background: rgba(250,204,21,0.3); filter: blur(50px);"></div>
    <img src="assets/chirpy.png"
         alt="Yellow girl standing"
         class="relative h-60 drop-shadow-xl object-contain char-img"
         style="--tilt: 6deg; --dur: 5.9s;"
         loading="lazy" />
  </div>
</div>
  <!-- New: White Character -->
  <div class="absolute top-[35%] left-[8%] w-72 h-72 rounded-full flex items-center justify-center">
    <div class="absolute inset-0 rounded-full" style="background: rgba(255,255,255,0.4); filter: blur(50px);"></div>
    <img src="assets/serenity.png"
         alt="White character"
         class="relative drop-shadow-xl object-contain char-img"
         style="height: 280px; --tilt: 4deg; --dur: 6.1s;"
         loading="lazy" />
  </div>

  <!-- New: Purple Character -->
  <div class="absolute top-[35%] right-[6%] w-72 h-72 rounded-full flex items-center justify-center">
    <div class="absolute inset-0 rounded-full" style="background: rgba(159,230,255,0.4); filter: blur(50px);"></div>
    <img src="assets/worry.png"
         alt="Purple character"
         class="relative drop-shadow-xl object-contain char-img"
         style="height: 240px; --tilt: -3deg; --dur: 6.4s;"
         loading="lazy" />
  </div>
      <div class="max-w-6xl mx-auto px-6 py-10 text-center">
        <h1 class="text-3xl md:text-4xl font-bold tracking-tight">Choose a Wish to Brighten a Day</h1>
        <p class="text-white/90 text-lg leading-relaxed mt-3">Each ball is an anonymous student wish. Click to see their story and pledge support.</p>
        <div class="mt-10 flex flex-col items-center">
          <div id="jarButton" role="button" tabindex="0" aria-label="Wish Jar"
               class="group relative mx-auto w-[380px] h-[580px] md:w-[520px] md:h-[720px] rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/12 transition-all duration-300"
               style="animation: glowPulse 3s ease-in-out infinite">
            <svg viewBox="0 0 360 660" class="absolute inset-0 w-full h-full">
              <defs>
                <linearGradient id="jarGlass" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0%" stop-color="rgba(255,255,255,0.7)"/>
                  <stop offset="100%" stop-color="rgba(255,255,255,0.15)"/>
                </linearGradient>
                <clipPath id="jarClip">
                  <path d="M60,100 h240 a22,22 0 0 1 22,22 v300 q0,90 -98,120 h-88 q-98,-30 -98,-120 v-300 a22,22 0 0 1 22,-22 z" />
                </clipPath>
              </defs>

              <path d="M60,100 h240 a22,22 0 0 1 22,22 v300 q0,90 -98,120 h-88 q-98,-30 -98,-120 v-300 a22,22 0 0 1 22,-22 z"
                    fill="url(#jarGlass)" stroke="white" stroke-opacity="0.35" stroke-width="3"/>
              <rect x="78" y="72" width="204" height="26" rx="6" fill="rgba(255,255,255,0.6)" />
              <rect x="112" y="58" width="136" height="14" rx="6" fill="rgba(255,255,255,0.45)" />

              <!-- REPLACE your existing ballsGroup with this block -->
<!-- 2) Replace your <g id="ballsGroup"> with this updated block (sway hardcoded) -->
<g clip-path="url(#jarClip)" id="ballsGroup">
  <ellipse cx="180" cy="490" rx="170" ry="70" fill="rgba(255,255,255,0.08)"/>
  <ellipse cx="180" cy="520" rx="170" ry="70" fill="rgba(255,255,255,0.08)"/>

  <!-- 30 hard-coded circles arranged in curved rows (6 rows × 5) -->

  <!-- Icons injected here -->
  <g id="iconsLayer"></g>
</g>


            </svg>
          </div>

          <div class="mt-6">
            <div class="inline-flex items-center gap-2 bg-white/20 backdrop-blur px-5 py-3 rounded-full text-sm">
              <span class="hidden sm:inline">Click a ball to open a wish</span>
              <span class="sm:hidden">Tap a ball to open a wish</span>
              <span class="opacity-90">→</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- WISH MODAL -->
    <div id="modalBackdrop" class="fixed inset-0 z-40 bg-black/50 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity"></div>
    <div id="wishModal" class="fixed z-50 inset-0 flex items-center justify-center p-6 modal-hidden">
      <div class="w-full max-w-lg bg-white text-slate-800 rounded-2xl shadow-2xl overflow-hidden">
        <div class="relative bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 h-28">
          <button id="closeModalTop" aria-label="Close" class="absolute top-3 right-3 rounded-full bg-white/20 hover:bg-white/30 text-white p-2 transition">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M6 6l12 12M18 6L6 18" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
<div id="wishStudentImageContainer"
     class="absolute -bottom-10 left-1/2 -translate-x-1/2 h-20 w-20 rounded-full ring-4 ring-white overflow-hidden bg-white flex items-center justify-center">
  
  <!-- Actual student image (hidden by default) -->
  <img id="wishStudentImage"
       src=""
       alt="Student Image"
       class="h-20 w-20 object-cover rounded-full hidden" />

  <!-- Default placeholder avatar -->
  <svg id="wishStudentPlaceholder" viewBox="0 0 64 64" class="h-16 w-16">
    <circle cx="32" cy="32" r="30" fill="#EEF2FF"/>
    <circle cx="32" cy="26" r="10" fill="#A78BFA"/>
    <path d="M16 50c4-8 12-12 16-12s12 4 16 12" fill="#C4B5FD"/>
  </svg>
</div>

        </div>
        <div class="px-6 pt-12 pb-6">
          <div class="text-center">
            <h2 id="wishNickname" class="text-2xl font-bold text-slate-900">Student</h2>
            <p class="text-slate-600 mt-1">Anonymous profile</p>
          </div>
          <div class="mt-5 space-y-3">
            <div>
              <div class="text-slate-500 text-sm">Emotion</div>
              <p id="wishEmotion" class="text-slate-800"></p>
            </div>
            <div>
              <div class="text-slate-500 text-sm">Situation</div>
              <p id="wishSituation" class="text-slate-800"></p>
            </div>
            <div>
              <div class="text-slate-500 text-sm">Wish</div>
              <p id="wishText" class="text-slate-800"></p>
            </div>
          </div>
          <div class="mt-6 flex flex-col sm:flex-row gap-3">
            <button id="grantBtn" class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-500 transition">
              Grant this wish
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M13 5l7 7-7 7M5 12h14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <button id="closeModal" class="px-4 py-3 rounded-xl bg-slate-900 text-white font-semibold hover:bg-slate-800 transition w-full sm:w-auto">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- DONATE / PLEDGE FORM -->
<section id="page-donate" class="page">
  <div class="max-w-3xl mx-auto px-6 py-10">
    <div class="rounded-2xl bg-white/10 border border-white/10 p-6">
      <div class="flex items-center justify-between">
        <h2 class="text-3xl font-bold">Pledge Support</h2>
        <span id="donateWishBadge" class="text-xs bg-white/20 px-3 py-1 rounded-full"></span>
      </div>
      <p class="mt-2 text-white/90">Want to contribute to this student? Fill in this pledge form & complete payment to promise you won't let them down!</p>

      <!-- Wish details -->
      <div id="donateWishDetails" class="mt-6 rounded-xl bg-white/5 border border-white/10 p-4 text-left">
  <h3 class="text-xl font-semibold mb-2">Wish Details</h3>

  <div class="mt-4 flex flex-col md:flex-row items-start md:items-center gap-4">
    <!-- Left: text details -->
    <div class="flex-1 min-w-0">
      <p class="truncate"><span class="font-bold">Nickname:</span> <span id="specficWishNickname">—</span></p>
      <p class="mt-2"><span class="font-bold">Wish Item:</span> <span id="wishItem">—</span></p>
      <p class="mt-2"><span class="font-bold">Situation:</span> <span id="specficWishSituation">—</span></p>
    </div>

    <!-- Right: student image with emotion character sitting on top -->
    <div class="relative w-40 md:w-48 flex-shrink-0">
      <!-- wrapper gives ring / shadow -->
      <div id="studentImageWrapper" class="relative rounded-xl overflow-hidden bg-white/5 ring-4 ring-white/8 shadow-lg">
        <!-- Student image (populated by JS) -->
        <img id="donateStudentImage"
             src="assets/avatar-placeholder.png"
             alt="Student image"
             class="w-full h-40 md:h-48 object-cover" />

        <!-- Emotion character sits on top (absolute). Uses your .char-img float animation -->
        <img id="donateEmotionCharacter"
             src="assets/chirpy.png"
             alt="Emotion character"
             class="absolute -top-6 right-2 w-20 h-20 object-contain drop-shadow-xl char-img"
             style="z-index:20; pointer-events:none;" />
      </div>
    </div>
  </div>
</div>


      <form id="donorForm" class="mt-6 space-y-5">
        <input type="hidden" name="wish_id" id="donateWishId">

        <!-- Anonymous-only fields (toggled by JS) -->
        <div id="anonymousFields" class="rounded-xl bg-white/10 border border-white/10 p-4 hidden">
          <div class="text-sm opacity-80 mb-2">Choose how your name appears</div>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm mb-2">Full Name (optional)</label>
              <input name="name" id="donorFullName" class="w-full px-4 py-3 rounded-xl bg-white text-slate-900 placeholder-slate-400"
                placeholder="Your full name" />
            </div>
            <div>
              <label class="block text-sm mb-2">Nickname (optional)</label>
              <input name="nickname" id="donorNick" class="w-full px-4 py-3 rounded-xl bg-white text-slate-900 placeholder-slate-400"
                placeholder="Shown to student if you prefer" />
            </div>
          </div>
          <div class="text-xs opacity-80 mt-2">Fill either one. If both are filled, Full Name is used.</div>
        </div>

        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm mb-2">Email</label>
            <input required type="email" name="email" id="donorEmail"
              class="w-full px-4 py-3 rounded-xl bg-white text-slate-900 placeholder-slate-400"
              placeholder="you@example.com" />
          </div>
          <div>
            <label class="block text-sm mb-2">Phone (optional)</label>
            <input name="phone" id="donorPhone" class="w-full px-4 py-3 rounded-xl bg-white text-slate-900 placeholder-slate-400"
              placeholder="+60 ..." />
          </div>
        </div>

        <div class="grid md:grid-cols-1 gap-4">
          <div>
            <label class="block text-sm mb-2">Message to Admin (optional)</label>
            <input name="message" id="donorMessage"
              class="w-full px-4 py-3 rounded-xl bg-white text-slate-900 placeholder-slate-400"
              placeholder="Any details or questions" />
          </div>
        </div>

        <div class="flex items-center gap-3">
          <button type="submit"
            class="px-5 py-3 rounded-xl bg-white text-indigo-700 font-semibold hover:bg-white/90">Proceed</button>
          <button type="button" id="cancelDonate"
            class="px-5 py-3 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</section>

    <!-- ABOUT (with stats + SKP details) -->
<section id="page-about" class="page relative" >
<div class="absolute inset-0 -z-10">
    <span class="glow-ball" style="top:10%; left:20%; width:300px; height:300px; background:#ff0080;"></span>
    <span class="glow-ball" style="top:40%; left:70%; width:250px; height:250px; background:#00ffff;"></span>
    <span class="glow-ball" style="top:70%; left:30%; width:200px; height:200px; background:#ffcc00;"></span>
    <span class="glow-ball" style="top:20%; left:80%; width:180px; height:180px; background:#00ff99;"></span>
  </div>

  <div class="relative max-w-6xl mx-auto px-6 py-10">
    <h2 class="text-3xl md:text-4xl font-bold">About This Project</h2>
    <p class="mt-4 text-white/90 text-lg leading-relaxed max-w-3xl">
      A simple way to support students in need. Each anonymous wish is reviewed by school staff and listed here for donors to grant.
    </p>

    <div class="mt-8 grid lg:grid-cols-2 gap-6">
      <!-- School Snapshot -->
      <div class="rounded-2xl bg-white/10 border border-white/10 p-6">
        <h3 class="text-xl font-semibold">School Snapshot</h3>
        <div class="mt-4 space-y-4">
          <div>
            <div class="flex items-center justify-between text-sm"><span>B40 Students</span><span id="statB40Pct">62%</span></div>
            <div class="mt-2 h-3 rounded-full bg-white/10 overflow-hidden">
              <div id="barB40" class="h-3 bg-yellow-300 rounded-full" style="width:62%"></div>
            </div>
          </div>
          <div>
            <div class="flex items-center justify-between text-sm"><span>Avg. Grant Time</span><span>3–7 days</span></div>
            <div class="mt-2 h-3 rounded-full bg-white/10 overflow-hidden">
              <div class="h-3 bg-green-300 rounded-full" style="width:45%"></div>
            </div>
          </div>
          <div>
            <div class="flex items-center justify-between text-sm"><span>Essentials Coverage (est.)</span><span>76%</span></div>
            <div class="mt-2 h-3 rounded-full bg-white/10 overflow-hidden">
              <div class="h-3 bg-indigo-300 rounded-full" style="width:76%"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Impact This Month -->
      <div class="rounded-2xl bg-white/10 border border-white/10 p-6">
        <h3 class="text-xl font-semibold">Impact This Month</h3>
        <div class="grid grid-cols-3 gap-4 mt-4 text-center">
          <div class="rounded-xl bg-white/10 p-4">
            <div id="statWishes" class="text-3xl font-bold">0</div>
            <div class="text-sm opacity-80">Wishes</div>
          </div>
          <div class="rounded-xl bg-white/10 p-4">
            <div id="statGranted" class="text-3xl font-bold">0</div>
            <div class="text-sm opacity-80">Granted</div>
          </div>
          <div class="rounded-xl bg-white/10 p-4">
            <div id="statDonors" class="text-3xl font-bold">0</div>
            <div class="text-sm opacity-80">Donors</div>
          </div>
        </div>

        <div class="mt-6 rounded-xl bg-white/10 p-4">
          <div class="font-semibold">Contact MRSM Kuching</div>
          <div class="mt-2 space-y-1 text-white/90">
            <div>📞 +60 82-447 439</div>
            <div>✉️ adminmrsmkuching@kuching.mrsm.edu.my</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SKP Hexagon Grid Section -->
  <section id="skp-banners" class="relative min-h-screen bg-black text-white overflow-hidden">
<div class="absolute inset-0">
    <img src="assets/skp-bg.jpg" 
         alt="Background" 
         class="w-full h-full object-cover" />
    <!-- Blur overlay -->
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
  </div>

  <div class="relative z-10 max-w-6xl mx-auto px-6 py-16 text-center">
    <h2 class="text-4xl md:text-5xl font-bold mb-6">Meet the Emotions</h2>
    <p class="text-lg opacity-80 max-w-2xl mx-auto mb-12">
      The unique characters that build the foundation of the Dream Jar
    </p>

    <!-- Vertical Banner Buttons -->
    <div class="flex flex-col md:flex-row gap-6 justify-center items-stretch">
      
      <!-- Banner Template -->
      <div class="banner flex-1 relative bg-gray-800 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-300" data-index="0" data-color="yellow">
        <div class="h-48 md:h-64 bg-cover bg-center" style="background-image:url('assets/chirpy.png');"></div>
        <div class="p-4 text-center">
          <h3 class="text-2xl font-bold">Chirpy</h3>
          <p class="text-sm text-gray-300 mt-1">The energetic spirit of the student body</p>
        </div>
      </div>

      <div class="banner flex-1 relative bg-gray-800 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-300" data-index="1" data-color="white">
        <div class="h-48 md:h-64 bg-cover bg-center" style="background-image:url('assets/serenity.png');"></div>
        <div class="p-4 text-center">
          <h3 class="text-2xl font-bold">Serenity</h3>
          <p class="text-sm text-gray-300 mt-1">Calm and composed presence</p>
        </div>
      </div>

      <div class="banner flex-1 relative bg-gray-800 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-300" data-index="2" data-color="green">
        <div class="h-48 md:h-64 bg-cover bg-center" style="background-image:url('assets/envy.png');"></div>
        <div class="p-4 text-center">
          <h3 class="text-2xl font-bold">Envy</h3>
          <p class="text-sm text-gray-300 mt-1">The green-eyed challenger</p>
        </div>
      </div>

      <div class="banner flex-1 relative bg-gray-800 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-300" data-index="3" data-color="orange">
        <div class="h-48 md:h-64 bg-cover bg-center" style="background-image:url('assets/gratitude.png');"></div>
        <div class="p-4 text-center">
          <h3 class="text-2xl font-bold">Gratitude</h3>
          <p class="text-sm text-gray-300 mt-1">Always thankful, always bright</p>
        </div>
      </div>

      <div class="banner flex-1 relative bg-gray-800 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-300" data-index="4" data-color="pink">
        <div class="h-48 md:h-64 bg-cover bg-center" style="background-image:url('assets/shy.png');"></div>
        <div class="p-4 text-center">
          <h3 class="text-2xl font-bold">Shy</h3>
          <p class="text-sm text-gray-300 mt-1">Quiet, thoughtful, reserved</p>
        </div>
      </div>

      <div class="banner flex-1 relative bg-gray-800 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-300" data-index="5" data-color="purple">
        <div class="h-48 md:h-64 bg-cover bg-center" style="background-image:url('assets/worry.png');"></div>
        <div class="p-4 text-center">
          <h3 class="text-2xl font-bold">Worry</h3>
          <p class="text-sm text-gray-300 mt-1">Always thinking ahead</p>
        </div>
      </div>

    </div>
  </div>
  </section>


  <!-- SKP HORIZONTAL SLIDER -->
  <section id="skp-slider" class="hidden relative w-full h-screen overflow-hidden">
  <div id="slider-track" class="flex w-full h-full transition-transform duration-500 ease-in-out">
    
    <!-- Banner 1 -->
    <div class="skp-banner flex-shrink-0 w-full h-screen bg-cover bg-center relative" style="background-image:url('assets/bg1.jpeg')">
      <div class="absolute inset-0 bg-yellow-500/20"></div>

      <div class="absolute inset-0 bg-black/70 backdrop-blur-sm"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-8">
        <img src="assets/chirpy.png" class="skp-img mr-8">
        <div class="text-white max-w-xl">
          <div class="text-white max-w-xl slide-text">
          <h3 class="text-4xl font-bold mb-4 text-yellow-300">Badan Wakil Pelajar (BWP)</h3>
          <p class="text-lg">BWP manages and updates the Dream Drops website, keeping all information accurate and up to date.</p>
        </div>
        </div>
      </div>
    </div>

    <!-- Banner 2 -->
    <div class="skp-banner flex-shrink-0 w-full h-screen bg-cover bg-center relative" style="background-image:url('assets/bg3.jpeg')">
      <div class="absolute inset-0 bg-purple-500/20"></div>
      <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-8">
        <img src="assets/serenity.png" class="skp-img mr-8">
        <div class="text-white max-w-xl">
          <div class="text-white max-w-xl slide-text">
          <h3 class="text-4xl font-bold mb-4 text-white">Pembimbing Rakan Sebaya (PRS)</h3>
          <p class="text-lg">PRS collects the names of students eligible to join and encourages participation in the program.</p>
        </div>
        </div>
      </div>
    </div>

    <!-- Repeat for Envy, Gratitude, Shy, Worry -->
    <div class="skp-banner flex-shrink-0 w-full h-screen bg-cover bg-center relative" style="background-image:url('assets/jpabg.JPG')">
      <div class="absolute inset-0 bg-green-500/20"></div>
      <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-8">
        <img src="assets/envy.png" class="skp-img mr-8">
        <div class="text-white max-w-xl">
          <div class="text-white max-w-xl slide-text">
          <h3 class="text-4xl font-bold mb-4 text-green-400">Jawatan Pengurusan Asrama (JPA)</h3>
          <p class="text-lg">JPA delivers the granted wishes to students, making each moment special.</p>
        </div>
        </div>
      </div>
    </div>

    <div class="skp-banner flex-shrink-0 w-full h-screen bg-cover bg-center relative" style="background-image:url('assets/bg2.jpeg')">
      <div class="absolute inset-0 bg-orange-500/20"></div>
      <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-8">
        <img src="assets/gratitude.png" class="skp-img mr-8">
        <div class="text-white max-w-xl">
          <div class="text-white max-w-xl slide-text">
          <h3 class="text-4xl font-bold mb-4 text-orange-300">English Motivational Commitee (EMC)</h3>
          <p class="text-lg">EMC promotes the Dream Drops website on social media to raise awareness.</p>
        </div>
        </div>
      </div>
    </div>

    <div class="skp-banner flex-shrink-0 w-full h-screen bg-cover bg-center relative" style="background-image:url('assets/bg4.jpeg')">
      <div class="absolute inset-0 bg-pink-500/20"></div>
      <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-8">
        <img src="assets/shy.png" class="skp-img mr-8">
        <div class="text-white max-w-xl">
          <div class="text-white max-w-xl slide-text">
          <h3 class="text-4xl font-bold mb-4 text-pink-300">Lembaga Disiplin Pelajar (LDP)</h3>
          <p class="text-lg">LDP collects and organizes information from students joining the program.</p>
        </div>
        </div>
      </div>
    </div>

    <div class="skp-banner flex-shrink-0 w-full h-screen bg-cover bg-center relative" style="background-image:url('assets/deskbg.jpeg')">
      <div class="absolute inset-0 bg-blue-500/20"></div>
      <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-8">
        <img src="assets/worry.png" class="skp-img mr-8">
        <div class="text-white max-w-xl">
          <div class="text-white max-w-xl slide-text">
          <h3 class="text-4xl font-bold mb-4 text-purple-300">Sidang Redaksi (SR)</h3>
          <p class="text-lg">SR captures the moments where students receive their wishes, highlighting the happiness & sharing the gratefulness for everyone to see.</p>
        </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Slider Controls -->
  <button id="prevBtn" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 text-white px-4 py-2 rounded-full">‹</button>
  <button id="nextBtn" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 text-white px-4 py-2 rounded-full">›</button>
  </section>

  <style>
  /* Hexagon style */
  /* Character images */
. skp-img {
  width: 280px;
  transition: transform .3s;
}
.skp-img:hover {
  transform: scale(1.08) rotate(-3deg);
}

/* Initially hidden with opacity */
#skp-slider {
  opacity: 0;
  transition: opacity 0.6s ease;
}

/* Fade-in class */
#skp-slider.show {
  opacity: 1;
}

.skp-banner .slide-text {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

/* When active slide */
.skp-banner.active .slide-text {
  opacity: 1;
  transform: translateY(0);
}

.banner img{
  width: 280px;
  transition: transform 0.3s, filter 0.3s;
  filter: grayscale(100%) brightness(80%); /* black-and-white + slightly dim */
}


.banner:hover {
  filter: grayscale(0%) brightness(100%); /* full color + normal brightness */
  transform: scale(1.08);  /* optional: keep your hover scale/rotation */
  box-shadow: 0 0 20px rgba(255,255,255,0.4);
}

/* Optional: color-specific glows */
.banner[data-color="yellow"]:hover {
  background-color: rgba(250,204,21,0.2);
  box-shadow: 0 0 15px rgba(250,204,21,0.6);
}
.banner[data-color="purple"]:hover {
  background-color: rgba(139,92,246,0.2);
  box-shadow: 0 0 15px rgba(139,92,246,0.6);
}
.banner[data-color="green"]:hover {
  background-color: rgba(34,197,94,0.2);
  box-shadow: 0 0 15px rgba(34,197,94,0.6);
}
.banner[data-color="orange"]:hover {
  background-color: rgba(251,146,60,0.2);
  box-shadow: 0 0 15px rgba(251,146,60,0.6);
}
.banner[data-color="pink"]:hover {
  background-color: rgba(236,72,153,0.2);
  box-shadow: 0 0 15px rgba(236,72,153,0.6);
}
.banner[data-color="white"]:hover {
  background-color: rgba(255,255,255,0.2);
  box-shadow: 0 0 15px rgba(240,255,240,0.6);
}
.glow-ball {
  position: absolute;
  border-radius: 50%;
  filter: blur(120px);
  opacity: 0.6;
  animation: float 15s ease-in-out infinite alternate;
  mix-blend-mode: screen;
}

@keyframes float {
  0% { transform: translate(0, 0); }
  50% { transform: translate(30px, -50px); }
  100% { transform: translate(0, 0); }
}
</style>

<script>
let currentIndex = 0;
const track = document.getElementById("slider-track");
const totalSlides = document.querySelectorAll(".skp-banner").length;

// Open slider from hexagon click
document.querySelectorAll(".banner").forEach(ban => {
  ban.addEventListener("click", () => {
    currentIndex = parseInt(ban.dataset.index);
    document.getElementById("skp-banners").classList.add("hidden");

    const slider = document.getElementById("skp-slider");
    slider.classList.add("show"); // triggers fade-in
    slider.classList.remove("hidden");
    
    updateSlider();
  });
});

// Button controls
document.getElementById("prevBtn").addEventListener("click", () => {
  if (currentIndex > 0) {
    currentIndex--;
    updateSlider();
  }
});
document.getElementById("nextBtn").addEventListener("click", () => {
  if (currentIndex < totalSlides - 1) {
    currentIndex++;
    updateSlider();
  }
});

// Swipe support
let startX = 0;
track.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
});
track.addEventListener("touchend", e => {
  let endX = e.changedTouches[0].clientX;
  if (startX - endX > 50 && currentIndex < totalSlides - 1) {
    currentIndex++;
    updateSlider();
  }
  if (endX - startX > 50 && currentIndex > 0) {
    currentIndex--;
    updateSlider();
  }
});

function updateSlider() {
  track.style.transform = `translateX(-${currentIndex * 100}%)`;

  // Remove active class from all banners
  document.querySelectorAll(".skp-banner").forEach((banner, idx) => {
    if(idx === currentIndex) {
      banner.classList.add("active");
    } else {
      banner.classList.remove("active");
    }
  });
}
</script>

<!-- Generic Module Section (Background Image) -->
<section class="relative py-20 bg-cover bg-center bg-gray-900">
  <div class="absolute inset-0 bg-black/60"></div> <!-- overlay -->
  <div class="relative max-w-4xl mx-auto px-6 text-center text-white">
    <h2 class="text-3xl md:text-4xl font-bold">Our Mission</h2>
    <h3 class="mt-2 text-lg opacity-80">Supporting students beyond classrooms</h3>
    <p class="mt-4 text-lg leading-relaxed">
      We believe every student deserves equal access to essentials. This program ensures dignity and opportunity are preserved.
    </p>
  </div>

  <!-- Objective Banners -->
  <div class="relative max-w-6xl mx-auto mt-16 px-6 grid md:grid-cols-3 gap-8">

    <!-- Objective 1: Helping B40 Students -->
    <div class="border-2 border-yellow-500 rounded-xl p-6 text-center text-white transition-all duration-300 hover:shadow-[0_0_20px_rgba(250,204,21,0.5)] hover:scale-105">
      <h4 class="text-xl font-bold mb-2 text-yellow-300">Helping B40 Students</h4>
      <p class="text-white opacity-90">
        Providing essential support to students from low-income families to ensure access to education and opportunities.
      </p>
    </div>

    <!-- Objective 2: Improving SKP Skills -->
    <div class="border-2 border-blue-500 rounded-xl p-6 text-center text-white transition-all duration-300 hover:shadow-[0_0_20px_rgba(59,130,246,0.5)] hover:scale-105">
      <h4 class="text-xl font-bold mb-2 text-blue-300">SKP Leadership Skills</h4>
      <p class="text-white opacity-90">
        Empowering SKP members with administration, communication, and organizational skills for better school leadership.
      </p>
    </div>

    <!-- Objective 3: Supporting SDG Goals -->
    <div class="border-2 border-green-500 rounded-xl p-6 text-center text-white transition-all duration-300 hover:shadow-[0_0_20px_rgba(5,150,105,0.5)] hover:scale-105">
      <h4 class="text-xl font-bold mb-2 text-green-300">Supporting & Innovating SDG Goals</h4>
      <p class="text-white opacity-90">
        Encouraging projects aligned with Sustainable Development Goals, promoting innovation and social responsibility among students.
      </p>
    </div>

  </div>
</section>


<!-- Another Section -->
<section class="relative py-20 bg-cover bg-center" style="background-image: url('assets/rugbybg.jpeg');">
  <div class="absolute inset-0 bg-black/50"></div>
  <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
  <div class="relative max-w-5xl mx-auto px-6 grid md:grid-cols-2 gap-8 items-center text-white">
    <div>
      <h2 class="text-3xl md:text-4xl font-bold">How It Works</h2>
      <h3 class="mt-2 text-lg opacity-80">From wish to grant</h3>
      <p class="mt-4 leading-relaxed">
        Students submit requests anonymously, SKP verifies, and donors step in to help. Every process is transparent and private.
      </p>
    </div>
    <img src="illustration.png" alt="Process Illustration" class="rounded-2xl shadow-lg">
  </div>
</section>

<!-- Horizontal Tab/Gallery Section -->
<section class="relative py-20 bg-gray-900">
  <div class="max-w-6xl mx-auto px-6 text-white">
    <h2 class="text-3xl font-bold text-center">Stories of Impact</h2>
    <p class="mt-2 text-lg text-center opacity-80">Swipe or click through to explore</p>

    <div class="mt-8 relative">
      <!-- track wrapper (overflow-hidden) -->
      <div id="galleryViewport" class="overflow-hidden rounded-2xl">
        <div id="galleryTrack" class="flex transition-transform duration-500">
          <!-- Slide 1 -->
          <div class="w-full flex-shrink-0 p-6">
            <div class="rounded-2xl bg-white/6 p-6 text-center">
              <img src="assets/pplface.jpeg" alt="" class="mx-auto rounded-xl mb-4 w-full max-w-[420px] h-52 object-cover">
              <h3 class="text-xl font-semibold">Jayden Cyrus Paul</h3>
              <p class="mt-2 opacity-80">“This project SAVED my life, I was so hungry and needed so much to survive but kind-hearted souls lent a hand through this website”</p>
            </div>
          </div>

          <!-- Slide 2 -->
          <div class="w-full flex-shrink-0 p-6">
            <div class="rounded-2xl bg-white/6 p-6 text-center">
              <img src="story2.jpg" alt="" class="mx-auto rounded-xl mb-4 w-full max-w-[420px] h-52 object-cover">
              <h3 class="text-xl font-semibold">Student B</h3>
              <p class="mt-2 opacity-80">“The support helped my family during a difficult time.”</p>
            </div>
          </div>

          <!-- Slide 3 -->
          <div class="w-full flex-shrink-0 p-6">
            <div class="rounded-2xl bg-white/6 p-6 text-center">
              <img src="story3.jpg" alt="" class="mx-auto rounded-xl mb-4 w-full max-w-[420px] h-52 object-cover">
              <h3 class="text-xl font-semibold">Student C</h3>
              <p class="mt-2 opacity-80">“It showed me that kindness exists everywhere.”</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Controls -->
      <div class="flex justify-center mt-6 gap-3">
        <button id="galleryPrev" class="px-4 py-2 rounded-xl bg-white/20 hover:bg-white/30">←</button>
        <button id="galleryNext" class="px-4 py-2 rounded-xl bg-white/20 hover:bg-white/30">→</button>
      </div>
    </div>
  </div>
</section>

<script>
  let galleryIndex = 0;
  const galleryTrack = document.getElementById('galleryTrack');
  const slides = galleryTrack.children;
  const gallerytotal = slides.length;

  document.getElementById('galleryPrev').addEventListener('click', () => moveGallery(-1));
  document.getElementById('galleryNext').addEventListener('click', () => moveGallery(1));

  function moveGallery(dir) {
    galleryIndex = (galleryIndex + dir + gallerytotal) % gallerytotal;
    galleryTrack.style.transform = `translateX(-${galleryIndex * 100}%)`;
  }

  // Optional: swipe support
  let startx = 0;
  galleryTrack.addEventListener('touchstart', e => startX = e.touches[0].clientX);
  galleryTrack.addEventListener('touchend', e => {
    let endx = e.changedTouches[0].clientX;
    if (startx - endx > 50) moveGallery(1);
    if (endx - startx > 50) moveGallery(-1);
  });
</script>

</section>


      <!-- ACHIEVEMENTS -->
      <section id="page-achievements" class="page">
        <div class="max-w-6xl mx-auto px-6 py-10">
          <h2 class="text-3xl md:text-4xl font-bold">Achievements</h2>
          <p class="mt-3 text-white/90">Top contributors by pledges and estimated value (demo).</p>
          <div class="mt-6 grid lg:grid-cols-2 gap-6">
            <div class="rounded-2xl bg-white/10 border border-white/10 p-6">
              <h3 class="text-xl font-semibold mb-4">Most Pledges</h3>
              <div id="topPledges" class="space-y-3"></div>
            </div>
            <div class="rounded-2xl bg-white/10 border border-white/10 p-6">
              <h3 class="text-xl font-semibold mb-4">Highest Estimated Value</h3>
              <div id="topValue" class="space-y-3"></div>
            </div>
          </div>
        </div>
      </section>

    <!-- STATUS -->
    <section id="page-status" class="page">
      <div class="max-w-4xl mx-auto px-6 py-10">
        <h2 class="text-3xl md:text-4xl font-bold">Donor Status</h2>
        <p class="mt-3 text-white/90">Enter your donation code to see progress (demo data).</p>
        <div class="mt-6 grid md:grid-cols-3 gap-4 items-end">
          <div class="md:col-span-2">
            <label class="block text-sm mb-2">Donation Code</label>
            <input id="lookupCode" class="w-full px-4 py-3 rounded-xl bg-white text-slate-900 placeholder-slate-400" placeholder="e.g., WISH-1234" />
          </div>
          <button id="lookupBtn" class="px-4 py-3 rounded-xl bg-white text-indigo-700 font-semibold hover:bg-white/90">Check</button>
        </div>
        <div id="statusResult" class="mt-8 rounded-2xl bg-white/10 border border-white/10 p-6 hidden"></div>
      </div>
    </section>

    <!-- INBOX -->
<section id="page-inbox" class="page">
  <div class="max-w-6xl mx-auto px-6 py-8">
    <div class="flex items-center justify-between">
      <h2 class="text-3xl font-bold">Inbox</h2>
      <div id="inboxUserBadge" class="text-sm bg-white/20 px-3 py-1 rounded-full">-</div>
    </div>

    <!-- Banner for status/errors -->
    <div id="inboxBanner" class="hidden mt-4 text-sm px-4 py-2 rounded-lg bg-yellow-500/20 text-yellow-200"></div>

    <div class="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Conversations list -->
      <div class="lg:col-span-1 rounded-2xl bg-white/10 border border-white/10 overflow-hidden">
        <div class="px-4 py-3 border-b border-white/10 font-semibold">Conversations</div>
        <div id="threadList" class="max-h-[60vh] overflow-y-auto divide-y divide-white/10"></div>
      </div>

      <!-- Chat window -->
      <div class="lg:col-span-2 rounded-2xl bg-white/10 border border-white/10 flex flex-col min-h-[50vh]">
        <div id="chatHeader" class="px-5 py-3 border-b border-white/10 flex items-center justify-between">
          <div class="font-semibold">Select a conversation</div>
          <div id="chatMeta" class="text-xs opacity-80"></div>
        </div>
        <div id="chatMessages" class="flex-1 overflow-y-auto p-5 space-y-3"></div>
        <div class="p-4 border-t border-white/10">
          <form id="chatForm" class="flex items-center gap-3">
            <input id="chatInput" class="flex-1 px-4 py-3 rounded-xl bg-white text-slate-900 placeholder-slate-400" placeholder="Type a message..." />
            <button id="chatSendBtn" type="submit" class="px-4 py-3 rounded-xl bg-white text-indigo-700 font-semibold hover:bg-white/90">Send</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>


  <footer class="max-w-6xl mx-auto px-6 pb-10 pt-6 text-sm text-white/80">
    Demo: Admin actions are done in admin panel. Inbox and Profile are saved locally for this demo.
  </footer>

  <!-- PROFILE MODAL -->
  <div id="profileModal" class="fixed inset-0 z-[70] hidden">
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="absolute inset-0 flex items-center justify-center p-6">
      <div class="w-full max-w-md rounded-2xl bg-white text-slate-800 shadow-2xl overflow-hidden">
        <div class="flex items-center justify-between px-5 py-3 bg-slate-100">
          <div class="font-semibold">Your Profile</div>
          <button id="closeProfile" class="px-2 py-1 rounded-lg bg-slate-200 hover:bg-slate-300">Close</button>
        </div>
        <div class="p-5 space-y-4">
          <div class="flex items-center gap-3">
            <div class="h-11 w-11 rounded-full bg-indigo-600 text-white flex items-center justify-center font-semibold" id="profAvatar">U</div>
            <div>
              <div id="profUsername" class="font-semibold">-</div>
              <div id="profRole" class="text-xs text-slate-500">-</div>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="rounded-xl bg-slate-50 p-4">
              <div class="text-xs text-slate-500">Pledges Made</div>
              <div id="profPledges" class="text-2xl font-bold">0</div>
            </div>
            <div class="rounded-xl bg-slate-50 p-4">
              <div class="text-xs text-slate-500">Wishes Granted</div>
              <div id="profGranted" class="text-2xl font-bold">0</div>
            </div>
            <div class="rounded-xl bg-slate-50 p-4 col-span-2">
              <div class="text-xs text-slate-500">Total Donated (est.)</div>
              <div id="profDonated" class="text-2xl font-bold">RM0.00</div>
            </div>
          </div>
          <div class="rounded-xl bg-slate-50 p-4">
            <div class="text-xs text-slate-500">Recent pledge</div>
            <div id="profRecent" class="text-sm mt-1">-</div>
          </div>
          <div class="text-xs text-slate-500">
            Note: This is demo data stored in your browser.
          </div>
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="js/donor.js"></script>
</body>
</html>
